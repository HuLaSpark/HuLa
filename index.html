<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HuLa</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />

    <!-- ğŸ¯ é¢„åŠ è½½å›¾ç‰‡èµ„æºï¼ˆä»…ç§»åŠ¨ç«¯ï¼‰ -->
    <script>
      if (/Mobi|Android|iPhone/i.test(navigator.userAgent)) {
        const preloadImages = ['/Mobile/1.png', '/Mobile/2.png', '/Mobile/3.png', '/Mobile/4.png']
        preloadImages.forEach(src => {
          const link = document.createElement('link')
          link.rel = 'preload'
          link.as = 'image'
          link.href = src
          document.head.appendChild(link)
        })
      }
    </script>

    <!-- iconparkå›¾æ ‡åº“ -->
    <script async src="/icon.js"></script>

    <!-- ğŸ§© åŠ è½½é¡µæ ·å¼ -->
    <style id="loading-css">
      #loading-page {
        position: fixed;
        inset: 0;
        z-index: 9999;
        background-image: url('/Mobile/2.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        transition: opacity 0.4s ease-out;
        opacity: 1;
      }

      .bottom-bar {
        position: absolute;
        bottom: 40px;
        display: flex;
        gap: 16px;
        align-items: center;
      }

      .rounded-14px {
        border-radius: 14px;
      }

      .size-50px {
        width: 50px;
        height: 50px;
      }

      .w-300px {
        width: 300px;
      }

      .h-200px {
        height: 200px;
      }

      .w-78px {
        width: 78px;
      }

      .h-40px {
        height: 40px;
      }

      .mb-140px {
        margin-bottom: 140px;
      }
    </style>
  </head>

  <body>
    <!-- ğŸš€ åŠ è½½é¡µ DOM -->
    <div id="loading-page">
      <img src="/Mobile/4.png" alt="hula" class="w-300px h-200px mb-140px" />
      <div class="bottom-bar">
        <img src="/Mobile/3.png" alt="hula" class="size-50px rounded-14px" />
        <img src="/Mobile/1.png" alt="hula" class="w-78px h-40px" />
      </div>
    </div>

    <!-- Vue åº”ç”¨æŒ‚è½½ç‚¹ -->
    <div id="app"></div>

    <!-- ğŸ¯ åŠ è½½é¡µé€»è¾‘æ§åˆ¶ï¼ˆæ·¡å‡º + æ¸…ç†ï¼‰ -->
    <script>
      function isMobileDevice() {
        return /Mobi|Android|iPhone/i.test(navigator.userAgent)
      }

      if (!isMobileDevice()) {
        document.getElementById('loading-page')?.remove()
        document.getElementById('loading-css')?.remove()
      }

      window.addEventListener('DOMContentLoaded', () => {
        const interval = setInterval(() => {
          const isMounted = document.getElementById('app')?.children.length > 0
          if (isMounted) {
            const loader = document.getElementById('loading-page')
            if (loader) {
              loader.style.opacity = '0'
              setTimeout(() => {
                loader.remove()
                document.getElementById('loading-css')?.remove()
              }, 450) // ç­‰å¾… transition å®Œæˆåå†ç§»é™¤
            }
            clearInterval(interval)
          }
        }, 100)
      })
    </script>

    <!-- ğŸš€ Vue åº”ç”¨å…¥å£ -->
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
